var n;
function p(a,b,c,e,d,f){for(var h=a.aa(),k=0;k<h.length;k++){var g=h[k];if(0<g.length){var l=a,m=b,x=d,y=k,g=c[e[g]];if(null==g)q(2,"The view '"+l.id+"' has a wrong reference");else switch(y){case 0:m!=g&&(l.left=g.left);l.f=!0;break;case 1:l.left=g.b?g.right:g.left+g.width;l.f=!0;break;case 2:if(m==g)if(m.b)l.right=x;else{l.right=-1;break}else l.right=g.b?g.right:g.left+g.width;l.b=!0;break;case 3:l.right=g.left,l.b=!0}}}"s"==a.c?a.b?(a.left=a.right-a.width,a.f=!0):(a.right=a.left+a.width,a.f=!0,
a.b=!0):"sp"==a.c&&(a.b&&!a.f?a.left=a.right-b.width*a.v/100:a.right=a.left+b.width*a.v/100,0<a.N&&(b=(a.right-a.left)*a.N,a.left+=b,a.right+=b),a.b=!0,a.f=!0);b=a.marginLeft;h=a.marginRight;0!=b&&a.f&&(a.left+=b,a.b&&"s"!=a.c||(a.right+=b));0!=h&&a.b&&(a.right-=h,a.f&&"s"!=a.c||(a.left-=h));if(a.f&&a.b){if(r(a,d),t(a,d),0<a.i.length){b=a.I?0:a.width-a.paddingLeft-a.paddingRight;for(h=0;h<a.i.length;h++)p(a.i[h],a,c,e,b,f);u(a)}}else{if(0<a.i.length){b=a.I?0:d;for(h=0;h<a.i.length;h++)p(a.i[h],a,
c,e,b,f);u(a);for(e=c=0;e<a.children.length;e++)b=a.children[e],b.right>c&&(c=b.right);a.b?a.left=a.right-c-a.paddingLeft:(a.right=a.left+c+a.paddingRight,a.b=!0);a.f=!0;for(e=0;e<a.children.length;e++)b=a.children[e],0>b.width&&(b.right=c,b.width=b.right-b.left)}else a.b?(a.left=a.right-a.width,a.f=!0):0<=a.right&&(a.right=a.left+a.width,a.b=!0,a.f=!0);r(a,d);t(a,d)}a:{if(a.I){for(e=c=0;e<a.children.length;e++)b=a.children[e],b.right>c&&(c=b.right);if(c>d+a.paddingLeft&&!a.R){document.getElementById(a.id).style.overflowX=
"auto";d=!0;break a}}d=!1}d&&(a.paddingBottom+=v,a.R=!0,f.push(a))}
function w(a,b,c,e,d,f){for(var h=a.ba(),k=0;k<h.length;k++){var g=h[k];if(0<g.length){var l=a,m=b,x=d,y=k,g=c[e[g]];if(null==g)q(2,"The view '"+l.id+"' has a wrong reference");else switch(y){case 0:m!=g&&(l.top=g.top);l.h=!0;break;case 1:l.top=g.a?g.bottom:g.top+g.height;l.h=!0;break;case 2:if(m==g)if(m.a)l.bottom=x;else{l.bottom=-1;break}else l.bottom=g.a?g.bottom:g.top+g.height;l.a=!0;break;case 3:l.bottom=g.top,l.a=!0}}}"s"==a.g?a.a?(a.top=a.bottom-a.height,a.h=!0):(a.bottom=a.top+a.height,a.h=
!0,a.a=!0):"sp"==a.g&&(a.a&&!a.h?a.top=a.bottom-b.height*a.u/100:a.bottom=a.top+b.height*a.u/100,0<a.O&&(b=(a.bottom-a.top)*a.O,a.top+=b,a.bottom+=b),a.a=!0,a.h=!0);b=n.l(a.marginTop);h=n.l(a.marginBottom);0!=a.marginTop&&a.h&&(a.top+=b,a.a&&"s"!=a.g||(a.bottom+=b));0!=a.marginBottom&&a.a&&(a.bottom-=h,a.h&&"s"!=a.g||(a.top-=h));if(a.h&&a.a){if(z(a,d),A(a,d),0<a.j.length){b=a.J?0:a.height-a.paddingTop-a.paddingBottom;for(h=0;h<a.j.length;h++)w(a.j[h],a,c,e,b,f);B(a)}}else{if(0<a.j.length){b=a.J?0:
d;for(h=0;h<a.j.length;h++)w(a.j[h],a,c,e,b,f);B(a);for(e=c=0;e<a.children.length;e++)b=a.children[e],b.bottom>c&&(c=b.bottom);a.a?(a.top=a.bottom-c-a.paddingTop,a.h=!0):(a.bottom=a.top+c+a.paddingBottom,a.a=!0);for(e=0;e<a.children.length;e++)b=a.children[e],0>b.height&&(b.bottom=c,b.height=b.bottom-b.top)}else a.a?(a.top=a.bottom-a.height,a.h=!0):0<=a.bottom&&(c=document.getElementById(a.id),c.style.width=a.width+"px",a.height=c.offsetHeight,a.bottom=a.top+a.height,a.a=!0,a.h=!0);z(a,d);A(a,d)}a:{if(a.J){for(e=
c=0;e<a.children.length;e++)b=a.children[e],b.bottom>c&&(c=b.bottom);if(("sc"!=a.g||c>d+a.paddingTop)&&!a.S){document.getElementById(a.id).style.overflowY="auto";d=!0;break a}}d=!1}d&&(a.paddingRight+=v,a.S=!0,f.push(a))}function r(a,b){a.right>b&&0<b&&(a.right=b);a.width=a.right-a.left}function z(a,b){a.bottom>b&&0<b&&(a.bottom=b);a.height=a.bottom-a.top}function u(a){if(0!=a.paddingLeft)for(var b=0;b<a.children.length;b++)a.children[b].left+=a.paddingLeft,a.children[b].right+=a.paddingLeft}
function B(a){if(0!=a.paddingTop)for(var b=0;b<a.children.length;b++)a.children[b].top+=a.paddingTop,a.children[b].bottom+=a.paddingTop}function t(a,b){"n"!=a.o&&("l"==a.o?(a.left=0,a.f=!0):"r"==a.o?(a.right=b,a.left=a.right-a.width):"c"==a.o&&(a.left=(b-a.width)/2,a.right=a.left+a.width,a.f=!0,a.b=!0))}function A(a,b){"n"!=a.s&&("t"==a.s?(a.top=0,a.h=!0):"b"==a.s?(a.bottom=b,a.top=a.bottom-a.height):"c"==a.s&&(a.top=(b-a.height)/2,a.bottom=a.top+a.height,a.h=!0,a.a=!0))};function C(a,b,c,e){a=null!=b?D(b,"","",e.K,e.attributes):E(a);a.children=c;return{view:a,sizes:null}}
function E(a){return{id:a,M:"",children:[],i:[],j:[],P:!0,ca:0,m:0,L:[],B:"",C:"",F:"",D:"",H:"",G:"",w:"",A:"",c:"sc",g:"sc",left:0,top:0,right:0,bottom:0,f:!1,h:!1,b:!1,a:!1,width:0,height:0,J:!1,I:!1,S:!1,R:!1,v:0,u:0,N:0,O:0,o:"n",s:"n",marginLeft:"0",marginTop:"0",marginRight:"0",marginBottom:"0",paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,Da:!1,Aa:function(a){if("sc"==a)this.c=a,this.width=0;else if(-1!=String(a).indexOf("%")){var c=a.indexOf("%");this.v=parseFloat(a.substring(0,
c));c<a.length-1&&(this.N=parseInt(a.substring(c+1,a.length)));this.c="sp"}else this.width=parseInt(a),this.c="s"},pa:function(a){if("sc"==a)this.g=a,this.height=0;else if(-1!=String(a).indexOf("%")){var c=a.indexOf("%");this.u=parseInt(a.substring(0,c));c<a.length-1&&(this.O=parseInt(a.substring(c+1,a.length)));this.g="sp"}else this.height=parseInt(a),this.g="s"},Z:function(a){this.B=a},$:function(a){this.F=a},T:function(a){this.H=a},Y:function(a){this.w=a},ea:function(a){this.D=a},fa:function(a){this.C=
a},ga:function(a){this.A=a},da:function(a){this.G=a},za:function(a){this.J=a},ya:function(a){this.I=a},na:function(a){this.o=a},oa:function(a){this.s=a},ma:function(a,c){this.o=a;this.s=c},ra:function(a){this.marginLeft=a},ta:function(a){this.marginTop=a},sa:function(a){this.marginRight=a},qa:function(a){this.marginBottom=a},ha:function(a,c,e,d){this.marginLeft=a;this.marginTop=c;this.marginRight=e;this.marginBottom=d},va:function(a){this.paddingLeft=a},xa:function(a){this.paddingTop=a},wa:function(a){this.paddingRight=
a},ua:function(a){this.paddingBottom=a},ia:function(a,c,e,d){this.paddingLeft=a;this.paddingTop=c;this.paddingRight=e;this.paddingBottom=d},la:function(){return[this.B,this.C,this.F,this.D,this.H,this.G,this.w,this.A]},aa:function(){return[this.B,this.C,this.F,this.D]},ba:function(){return[this.H,this.G,this.w,this.A]},Ea:function(a,c){switch(a){case 0:this.B=c;break;case 1:this.C=c;break;case 2:this.F=c;break;case 3:this.D=c;break;case 4:this.H=c;break;case 5:this.G=c;break;case 6:this.w=c;break;
case 7:this.A=c}},Ca:function(a){for(var c=0;c<this.children.length;c++)if(this.children[c].id==a.id){this.children[c]=a;break}for(c=0;c<this.i.length;c++)if(this.i[c].id==a.id){this.i[c]=a;break}for(c=0;c<this.j.length;c++)if(this.j[c].id==a.id){this.j[c]=a;break}},ka:function(){this.a=this.b=this.h=this.f=!1;this.bottom=this.right=this.top=this.left=0;0<this.v&&(this.c="sp");0<this.u&&(this.g="sp")},ja:function(a){this.paddingLeft=a.l(this.paddingLeft);this.paddingRight=a.l(this.paddingRight);this.paddingTop=
a.l(this.paddingTop);this.paddingBottom=a.l(this.paddingBottom);this.marginLeft=a.l(this.marginLeft);this.marginRight=a.l(this.marginRight);this.marginTop=a.l(this.marginTop)},clone:function(){var b=E(a);b.M=this.M;for(var c=0;c<this.children.length;c++)b.children.push(this.children[c].clone());for(c=0;c<this.i.length;c++)for(var e=0;e<b.children.length;e++)if(b.children[e].id==this.i[c].id){b.i.push(b.children[e]);break}for(c=0;c<this.j.length;c++)for(e=0;e<b.children.length;e++)if(b.children[e].id==
this.j[c].id){b.j.push(b.children[e]);break}b.P=this.P;b.ca=this.ca;b.m=this.m;for(c=0;c<this.L.length;c++)b.L.push(this.L[c]);b.B=this.B;b.C=this.C;b.F=this.F;b.D=this.D;b.H=this.H;b.G=this.G;b.w=this.w;b.A=this.A;b.c=this.c;b.g=this.g;b.left=this.left;b.top=this.top;b.right=this.right;b.bottom=this.bottom;b.f=this.f;b.h=this.h;b.b=this.b;b.a=this.a;b.width=this.width;b.height=this.height;b.J=this.J;b.I=this.I;b.S=this.S;b.R=this.R;b.v=this.v;b.u=this.u;b.N=this.N;b.O=this.O;b.o=this.o;b.s=this.s;
b.marginLeft=this.marginLeft;b.marginTop=this.marginTop;b.marginRight=this.marginRight;b.marginBottom=this.marginBottom;b.paddingLeft=this.paddingLeft;b.paddingTop=this.paddingTop;b.paddingRight=this.paddingRight;b.paddingBottom=this.paddingBottom;return b},toString:function(){return"["+a+"]: ll:"+this.B+", lr:"+this.C+", rr:"+this.F+", rl:"+this.D+", tt:"+this.H+",tb: "+this.G+", bb:"+this.w+", bt:"+this.A+", ml:"+this.marginLeft+", mr:"+this.marginRight+", mt:"+this.marginTop+",mb: "+this.marginBottom+
", pl:"+this.paddingLeft+", pr:"+this.paddingRight+", pt:"+this.paddingTop+", pb:"+this.paddingBottom+", w:"+this.width+", h:"+this.height+", sh:"+this.c+", sh:"+this.g+", pId:"+this.M+", l:"+this.left+", r:"+this.right+", t:"+this.top+", b:"+this.bottom}}}
function D(a,b,c,e,d){var f=E(a.id);f.M=b;var h;h=F(a.getAttribute(e));for(e=0;e<d.length;e++)h=h.concat(F(a.getAttribute(d[e])));if(0==h.length)return f;for(e=0;e<h.length;e++)d=h[e].U,a=h[e].value,"p"==a?a=b:"l"==a&&(a=c),"w"==d?f.Aa(a):"h"==d?f.pa(a):"l"==d?f.Z(a):"r"==d?f.$(a):"t"==d?f.T(a):"b"==d?f.Y(a):"al"==d?f.ea(a):"ale"==d?(f.ea(a),f.T(a),f.Y(a)):"ar"==d?f.fa(a):"are"==d?(f.fa(a),f.T(a),f.Y(a)):"at"==d?f.ga(a):"ate"==d?(f.ga(a),f.Z(a),f.$(a)):"ab"==d?f.da(a):"abe"==d?(f.da(a),f.Z(a),f.$(a)):
"ml"==d?f.ra(a):"mr"==d?f.sa(a):"mt"==d?f.ta(a):"mb"==d?f.qa(a):"m"==d?(d=a.split(","),1==d.length?f.ha(a,a,a,a):4==d.length&&f.ha(d[0],d[1],d[2],d[3])):"pl"==d?f.va(a):"pr"==d?f.wa(a):"pt"==d?f.xa(a):"pb"==d?f.ua(a):"p"==d?(d=a.split(","),1==d.length?f.ia(a,a,a,a):4==d.length&&f.ia(d[0],d[1],d[2],d[3])):"gh"==d?f.na(a):"gv"==d?f.oa(a):"g"==d?(a=a.split(","),2==a.length&&f.ma(a[0],a[1])):"cui"==d?f.P="n"==a?!1:!0:"sv"==d?f.za(!0):"sh"==d&&f.ya(!0);c=!1;h=f.la();for(e=0;e<h.length;e++)if(0<h[e].length){c=
!0;break}c||f.T(b);return f}function F(a){if(null==a)return[];a=a.replace(" ","").split(";");for(var b=[],c=0;c<a.length;c++){var e=a[c].split(":");2==e.length?b.push({U:e[0],value:e[1]}):1==e.length&&b.push({U:e[0],value:""})}return b};var G=!1,H=null;function q(a,b){if(G){var c=b;switch(a){case 1:c="WARNING: "+c;break;case 2:c="ERROR: "+c;break;case 3:c="INFO: "+c}console.log(c);H&&(H.innerHTML+=c+"<BR />")}};function aa(){var a=I,b={K:"ui",attributes:[],V:{},l:function(a){return"undefined"!==typeof this.V[a]?parseInt(this.V[a]):parseInt(a)}};if(!a)return b;a.attribute&&(b.K=a.attribute);var c=[],e={};if(a.dimens)for(var d=Object.keys(a.dimens),f=0;f<d.length;f++)e[d[f]]=a.dimens[d[f]];var h=window.innerWidth,k=window.innerHeight;q(0,"screen-width: "+h);q(0,"screen-height: "+k);if(a.screenModes)for(f=0;f<a.screenModes.length;f++){var g=a.screenModes[f];if((!g.widthStart||0==g.widthStart||g.widthStart<
h)&&(!g.widthEnd||0==g.widthEnd||g.widthEnd>h)&&(!g.heightStart||0==g.heightStart||g.heightStart<k)&&(!g.heightEnd||0==g.heightEnd||g.heightEnd<k)&&(c.push(g.attribute),q(0,"SHOWING ATTRIBUTE: "+g.attribute),g.dimens))for(var d=Object.keys(g.dimens),l=0;l<d.length;l++)e[d[l]]=g.dimens[d[l]]}b.attributes=c;b.V=e;return b};function J(a){for(var b=0,c=0,e=0,d=0,f=0,h=0,k=0;k<a.length;k++){var g=a[k],l=document.getElementById(g.id),h=f=d=e=0;if(0==l.childElementCount){var m=window.getComputedStyle(l);"sc"==g.c&&(e=parseInt(m.paddingLeft),d=parseInt(m.paddingRight));"sc"==g.g&&(f=parseInt(m.paddingTop),h=parseInt(m.paddingBottom))}l.style.display="inline-block";l.style.margin="auto";0<l.childElementCount&&(l.style.padding="0px");l.style.left=g.left+"px";l.style.top=g.top+"px";0<g.width&&(l.style.width=g.width-e-d+"px");
0<g.height&&(l.style.height=g.height-f-h+"px");l.style.position="absolute";g.left+g.width>b&&(b=g.left+g.width);g.top+g.height>c&&(c=g.top+g.height);K&&(l.style.backgroundColor="rgba("+parseInt(255*Math.random())+","+parseInt(255*Math.random())+","+parseInt(255*Math.random())+",0.4)");e=J(g.children);e.W>b&&(b=e.W);e.X>c&&(c=e.X)}return{W:b,X:c}};var L={};function M(a){L[a]=(new Date).getMilliseconds()}function N(a){q(0,"Counter["+a+"]: "+((new Date).getMilliseconds()-L[a])+"ms")};var O=0,P=!1;function Q(a){for(var b=[],c=0;c<a.length;c++)b[a[c].id]=c;return b}function R(a,b){null==b&&(b=[]);b.push(a);for(var c=0;c<a.children.length;c++)R(a.children[c],b);return b}function S(a){a.i=T(a.children,!0);a.j=T(a.children,!1);for(var b=0;b<a.children.length;b++)0<a.children[b].children.length&&S(a.children[b])}
function T(a,b){for(var c=a.slice(),e=0,d=0;d<c.length;d++){for(var f=[],h=b?c[d].aa():c[d].ba(),k=0;k<h.length;k++){var g=h[k];0<g.length&&f.push(g)}c[d].L=f;0==f.length?(c[d].m=0,e++):c[d].m=-1}h=Q(c);do for(allViewsSetted=!0,d=g=0;d<c.length;d++)if(-1==c[d].m){for(var f=c[d].L,l=0,k=0;k<f.length;k++){var m=0;null!=h[f[k]]&&(m=c[h[f[k]]].m);if(-1<m)l+=m+1;else{l=0;break}}0<l?(c[d].m=l,g++):allViewsSetted=!1}while(!allViewsSetted&&0<g);0==g&&0<c.length&&e<c.length&&q(2,"Check cycle references in "+
(b?"horizontal":"vertical")+" for parent "+c[0].M);c.sort(function(a,b){return a.m-b.m});return c}
function U(a,b){for(var c=0;c<a.length;c++){var e=a[c],d=document.getElementById(e.id);if("sc"==e.c&&0==e.children.length){var f=e,h=d,k=h.parentElement,g=k.offsetWidth,l=k.scrollLeft;k.style.width=1E5;h.style.display="inline-block";h.style.width="auto";h.style.height="auto";f.width=h.offsetWidth;0<f.width&&f.width++;k.style.width=g;k.scrollLeft=l}"sc"==e.g&&0==e.children.length&&(f=e,h=d.parentElement,k=h.offsetHeight,g=h.scrollTop,h.style.height=1E5,d.style.display="inline-block",d.style.width=
"auto",d.style.height="auto",f.height=d.offsetHeight,0<f.height&&f.height++,h.style.height=k,h.scrollTop=g);e.ja(b);0<e.children.length&&U(e.children,b)}}
function V(a,b){var c=a.view;b?("sc"!=c.c&&("s"==c.c?b.style.width=c.width+"px":"sp"==c.c&&(b.style.width=c.v+"%"),c.width=b.offsetWidth),"sc"!=c.g&&("s"==c.g?b.style.height=c.height+"px":"sp"==c.c&&(b.style.height=c.u+"%"),c.height=b.offsetHeight),c.right=c.width,c.bottom=c.height):(c.width=window.innerWidth,c.height=window.innerHeight,c.right=c.width,c.bottom=c.height);c.b=!0;c.f=!0;c.a=!0;c.h=!0}
function W(a){for(var b=[],c=0;c<a.children.length;c++)b.push({width:a.children[c].width,height:a.children[c].height,children:W(a.children[c])});return b}function X(a,b){var c=ba(a,a,b);P=!0;return c}
function ba(a,b,c){var e=[];null==b?(b=document.getElementsByTagName("BODY")[0],b.style.overflow="hidden",a="s"):a=b.id;b=b.childNodes;for(var d=a,f=0;f<b.length;f++){var h=b[f],k=!1;if(null!=h.tagName&&null!=h.getAttribute(c.K)&&"none"!=h.style.display){0==h.id.length&&(h.id="_aID_"+O,O++);var g=D(h,a,d,c.K,c.attributes);e.push(g);d=g.id;g.P&&(g.children=ba(a,h,c),k=!0)}P||ca(h,!k)}return e}
function ca(a,b){null!=a.tagName&&"img"==a.tagName.toLowerCase()&&(a.onload=function(){null==da?ea():Y(da)});if(b)for(var c=a.childNodes,e=0;e<c.length;e++)ca(c[e],!0)}
function fa(a,b,c){null==a&&(a=document.getElementsByTagName("BODY")[0]);null==b&&(b=[]);var e=c.K;a=a.childNodes;for(var d=0;d<a.length;d++){var f=a[d];if(f&&null!=f.tagName){if(null!=f.getAttribute(e)&&"none"!=f.style.display)for(var h=F(f.getAttribute(e)),k=0;k<h.length;k++)if("s"==h[k].U){0==f.id.length&&(f.id="_aID_"+O,O++);b.push(f.id);break}fa(f,b,c)}}return b};var K=!1,I,v=0,da=null;window.configUI=ga;function ga(a){I=a;a.viewColors&&(K=!0);a.showLogs&&(G=!0,a.Ba&&(H=document.getElementById(a.Ba)))}
function Z(){if(0==v){var a=document.createElement("p");a.style.width="100%";a.style.height="200px";var b=document.createElement("div");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.visibility="hidden";b.style.width="200px";b.style.height="150px";b.style.overflow="hidden";b.appendChild(a);document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";a=a.offsetWidth;c==a&&(a=b.clientWidth);document.body.removeChild(b);v=c-a}return aa()}window.drawUI=ea;
function ea(a){M("all");var b=Z(),c=X(null,b),c=C("s",null,c,b);c.sizes=W(c.view);V(c);ha(c,b,a)}window.drawUIAll=ia;function ia(a){M("all");for(var b=Z(),b=fa(null,null,b),c=0;c<b.length;c++)Y(b[c],a)}window.drawUIForId=Y;function Y(a,b){var c=Z(),e=document.getElementById(a);if(null==e)q(2,"Error getting element with ID: "+a);else{var d=X(e,c),d=C(a,e,d,c);d.sizes=W(d.view);V(d,e);e.style.position="relative";ha(d,c,b)}}
function ha(a,b,c){M("prepare");U(a.view.children,b);S(a.view);N("prepare");M("core");var e=a.view;n=b;var d=R(e),f=Q(d),h;do{h=[];for(var k=1;k<d.length;k++)d[k].ka();for(k=0;k<e.i.length;k++)p(e.i[k],e,d,f,e.width,h);for(k=0;k<e.j.length;k++)w(e.j[k],e,d,f,e.height,h)}while(0<h.length);N("core");M("draw");e=J(a.view.children);a=a.view;d=e.X;f=document.getElementById(a.id);"s"!=a.id&&null!=f&&(f.style.width="s"==a.c?a.width+"px":"sp"==a.c?a.v+"%":e.W+"px",f.style.height="s"==a.g?a.height+"px":"sp"==
a.g?a.u+"%":d+"px");N("draw");c&&c({name:"end",suffixs:b.Fa});N("all")};
