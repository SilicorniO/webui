function p(){this.time=null}function aa(b,a,c){c||(c=20);b.time||q(b,c,a);b.time=(new Date).getTime();b.time+=c}function q(b,a,c){setTimeout(function(){var a=(new Date).getTime();a>this.time?(c(),this.time=null):q(this,this.time-a,c)}.bind(b),a)};function t(b){if(null==b)return[];b=b.replace(" ","").split(";");for(var a=[],c=0;c<b.length;c++){var e=b[c].split(":");2==e.length?a.push({ca:e[0],value:e[1]}):1==e.length&&a.push({ca:e[0],value:""})}return a};var u=!1,v=null;function w(b,a){if(u){switch(b){case 1:a="WARNING: "+a;break;case 2:a="ERROR: "+a;break;case 3:a="INFO: "+a}console.log(a);v&&(v.innerHTML+=a+"<BR />")}};var x={};function z(b){x[b]=(new Date).getTime()}function A(b){w(0,"Counter["+b+"]: "+((new Date).getTime()-x[b])+"ms")};function ba(b){this.J="ui";this.attributes=[];this.a={};this.da=20;this.o=this.s=!1;this.h=null;if(b){b.viewColors&&(this.s=!0);b.showLogs&&(this.o=!0,b.ea&&(this.h=document.getElementById(b.ea)));null==b.timeRedraw||isNaN(b.timeRedraw)||(this.da=parseInt(b.timeRedraw,10));b.attribute&&(this.J=b.attribute);this.a={};if(b.dimens)for(var a=Object.keys(b.dimens),c=0;c<a.length;c++)this.a[a[c]]=b.dimens[a[c]];this.b=b.screenModes;B(this)}}
function B(b){var a=[],c=b.a,e=window.innerWidth,d=window.innerHeight;w(0,"screen-width: "+e);w(0,"screen-height: "+d);if(b.b)for(var f=0;f<b.b.length;f++){var g=b.b[f];if((!g.widthStart||0==g.widthStart||g.widthStart<e)&&(!g.widthEnd||0==g.widthEnd||g.widthEnd>e)&&(!g.heightStart||0==g.heightStart||g.heightStart<d)&&(!g.heightEnd||0==g.heightEnd||g.heightEnd<d)&&(a.push(g.attribute),w(0,"SHOWING ATTRIBUTE: "+g.attribute),g.dimens))for(var h=Object.keys(g.dimens),m=0;m<h.length;m++)c[h[m]]=g.dimens[h[m]]}b.attributes=
a;b.m=c}function C(b,a){if(b.m[a])return parseInt(b.m[a],10);if(a&&!isNaN(parseInt(a)))return parseInt(a,10);w(2,'The dimension "'+a+'" is not valid or it is not defined');return 0};function D(b,a,c,e,d){this.id=b.id;this.T=a;this.children=[];this.u=[];this.v=[];this.P=!0;this.B=this.ba=0;this.K=[];this.o=this.b=this.A=this.a=this.w=this.m=this.s=this.h="";this.j=this.g="sc";this.bottom=this.right=this.top=this.left=0;this.c=this.f=this.l=this.i=!1;this.height=this.width=0;this.V=this.W=this.H=this.I=!1;this.M=this.L=this.F=this.G=0;this.D=this.C="n";this.R=this.U=this.X=this.S="0";this.marginBottom=this.marginRight=this.marginTop=this.marginLeft=0;this.Y=this.N=this.O=this.Z=
"0";this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0;if(null!=a){var f=t(b.getAttribute(e));for(e=0;e<d.length;e++)f=f.concat(t(b.getAttribute(d[e])));if(0!=f.length){for(e=0;e<f.length;e++)if(d=f[e].ca,b=f[e].value,"p"==b?b=a:"l"==b&&(b=c),"w"==d)E(this,b);else if("fw"==d)E(this,"100%");else if("h"==d)F(this,b);else if("fh"==d)F(this,"100%");else if("l"==d)this.h=b;else if("r"==d)this.m=b;else if("t"==d)this.a=b;else if("b"==d)this.b=b;else if("al"==d)this.w=b;else if("ale"==
d)this.b=this.a=this.w=b;else if("ar"==d)this.s=b;else if("are"==d)this.b=this.a=this.s=b;else if("at"==d)this.o=b;else if("ate"==d)this.m=this.h=this.o=b;else if("ab"==d)this.A=b;else if("abe"==d)this.m=this.h=this.A=b;else if("ml"==d)this.S=b;else if("mr"==d)this.U=b;else if("mt"==d)this.X=b;else if("mb"==d)this.R=b;else if("m"==d)if(d=b.split(","),1==d.length){var g=d=b,h=b;this.S=b;this.X=d;this.U=g;this.R=h}else 4==d.length&&(b=d[1],g=d[2],h=d[3],this.S=d[0],this.X=b,this.U=g,this.R=h);else"pl"==
d?this.Z=b:"pr"==d?this.N=b:"pt"==d?this.O=b:"pb"==d?this.Y=b:"p"==d?(d=b.split(","),1==d.length?this.Y=this.N=this.O=this.Z=h=g=d=b:4==d.length&&(b=d[1],g=d[2],h=d[3],this.Z=d[0],this.O=b,this.N=g,this.Y=h)):"gh"==d?this.C=b:"gv"==d?this.D=b:"g"==d?(b=b.split(","),2==b.length&&(d=b[1],this.C=b[0],this.D=d)):"cui"==d?this.P="n"==b?!1:!0:"sv"==d?this.I=!0:"sh"==d&&(this.H=!0);c=!1;f=[this.h,this.s,this.m,this.w,this.a,this.A,this.b,this.o];for(e=0;e<f.length;e++)if(0<f[e].length){c=!0;break}c||(this.a=
a)}}}function ca(b,a,c,e){b=null!=a?new D(a,"","",e.J,e.attributes):new D(b);b.children=c;return b}function E(b,a){if("sc"==a)b.g=a,b.width=0;else if(-1!=String(a).indexOf("%")){var c=a.indexOf("%");b.G=parseFloat(a.substring(0,c));c<a.length-1&&(b.L=parseInt(a.substring(c+1,a.length),10));b.g="sp"}else b.width=parseInt(a,10),b.g="s"}
function F(b,a){if("sc"==a)b.j=a,b.height=0;else if(-1!=String(a).indexOf("%")){var c=a.indexOf("%");b.F=parseInt(a.substring(0,c),10);c<a.length-1&&(b.M=parseInt(a.substring(c+1,a.length),10));b.j="sp"}else b.height=parseInt(a,10),b.j="s"}function G(b){return[b.h,b.s,b.m,b.w]}function H(b){return[b.a,b.A,b.b,b.o]}
D.prototype.clone=function(){var b=new D(this.id);b.T=this.T;for(var a=0;a<this.children.length;a++)b.children.push(this.children[a].clone());for(a=0;a<this.u.length;a++)for(var c=0;c<b.children.length;c++)if(b.children[c].id==this.u[a].id){b.u.push(b.children[c]);break}for(a=0;a<this.v.length;a++)for(c=0;c<b.children.length;c++)if(b.children[c].id==this.v[a].id){b.v.push(b.children[c]);break}b.P=this.P;b.ba=this.ba;b.B=this.B;for(a=0;a<this.K.length;a++)b.K.push(this.K[a]);b.h=this.h;b.s=this.s;
b.m=this.m;b.w=this.w;b.a=this.a;b.A=this.A;b.b=this.b;b.o=this.o;b.g=this.g;b.j=this.j;b.left=this.left;b.top=this.top;b.right=this.right;b.bottom=this.bottom;b.i=this.i;b.l=this.l;b.f=this.f;b.c=this.c;b.width=this.width;b.height=this.height;b.I=this.I;b.H=this.H;b.W=this.W;b.V=this.V;b.G=this.G;b.F=this.F;b.L=this.L;b.M=this.M;b.C=this.C;b.D=this.D;b.marginLeft=this.marginLeft;b.marginTop=this.marginTop;b.marginRight=this.marginRight;b.marginBottom=this.marginBottom;b.paddingLeft=this.paddingLeft;
b.paddingTop=this.paddingTop;b.paddingRight=this.paddingRight;b.paddingBottom=this.paddingBottom;return b};
D.prototype.toString=function(){return"["+this.id+"]: ll:"+this.h+", lr:"+this.s+", rr:"+this.m+", rl:"+this.w+", tt:"+this.a+",tb: "+this.A+", bb:"+this.b+", bt:"+this.o+", ml:"+this.marginLeft+", mr:"+this.marginRight+", mt:"+this.marginTop+",mb: "+this.marginBottom+", pl:"+this.paddingLeft+", pr:"+this.paddingRight+", pt:"+this.paddingTop+", pb:"+this.paddingBottom+", w:"+this.width+", h:"+this.height+", sh:"+this.g+", sh:"+this.j+", pId:"+this.T+", l:"+this.left+", r:"+this.right+", t:"+this.top+
", b:"+this.bottom};function da(b){this.h=b;this.a=0;this.b=!1}function I(b){for(var a=[],c=0;c<b.length;c++)a[b[c].id]=c;return a}function J(b,a,c){null==c&&(c=[]);c.push(a);for(var e=0;e<a.children.length;e++)J(b,a.children[e],c);return c}function K(b,a){a.u=L(a.children,!0);a.v=L(a.children,!1);for(var c=0;c<a.children.length;c++)0<a.children[c].children.length&&K(b,a.children[c])}
function L(b,a){b=b.slice();for(var c=0,e=0;e<b.length;e++){for(var d=[],f=a?G(b[e]):H(b[e]),g=0;g<f.length;g++){var h=f[g];0<h.length&&d.push(h)}b[e].K=d;0==d.length?(b[e].B=0,c++):b[e].B=-1}f=I(b);var m;do for(h=!0,e=m=0;e<b.length;e++)if(-1==b[e].B){d=b[e].K;var l=0;for(g=0;g<d.length;g++){var k=0;null!=f[d[g]]&&(k=b[f[d[g]]].B);if(-1<k)l+=k+1;else{l=0;break}}0<l?(b[e].B=l,m++):h=!1}while(!h&&0<m);0==m&&0<b.length&&c<b.length&&w(2,"Check cycle references in "+(a?"horizontal":"vertical")+" for parent "+
b[0].T);b.sort(function(a,b){return a.B-b.B});return b}
function M(b,a,c){for(var e=0;e<a.length;e++){var d=a[e],f=document.getElementById(d.id);if("sc"==d.g&&0==d.children.length){var g=d,h=f,m=h.parentElement,l=m.offsetWidth,k=m.scrollLeft;m.style.width=1E4;h.style.display="inline-block";h.style.width="auto";h.style.height="auto";h=h.offsetWidth;0<h&&h++;m.style.width=l;m.scrollLeft=k;g.width=h}"sc"==d.j&&0==d.children.length&&(g=d,k=f,f=k.parentElement,m=f.offsetHeight,l=f.scrollTop,f.style.height=1E4,k.style.display="inline-block",k.style.width="auto",
k.style.height="auto",k=k.offsetHeight,0<k&&k++,f.style.height=m,f.scrollTop=l,g.height=k);f=d;g=c;f.paddingLeft=C(g,f.Z);f.paddingRight=C(g,f.N);f.paddingTop=C(g,f.O);f.paddingBottom=C(g,f.Y);f.marginLeft=C(g,f.S);f.marginRight=C(g,f.U);f.marginTop=C(g,f.X);f.marginBottom=C(g,f.R);0<d.children.length&&M(b,d.children,c)}}
function N(b,a,c,e){var d=[];null==c?(c=document.getElementsByTagName("BODY")[0],c.style.overflow="hidden",a="s"):a=c.id;c=c.childNodes;for(var f=a,g=0;g<c.length;g++){var h=c[g],m=!1;if(null!=h.tagName&&null!=h.getAttribute(e.J)&&"none"!=h.style.display){0==h.id.length&&(h.id="_aID_"+b.a,b.a++);var l=new D(h,a,f,e.J,e.attributes);d.push(l);f=l.id;l.P&&(l.children=N(b,a,h,e),m=!0)}b.b||O(b,h,!m)}return d}
function O(b,a,c){null!=a.tagName&&"img"==a.tagName.toLowerCase()&&(a.onload=function(){this.h()}.bind(b));if(c)for(a=a.childNodes,c=0;c<a.length;c++)O(b,a[c],!0)}function P(b,a,c,e){null==a&&(a=document.getElementsByTagName("BODY")[0]);null==c&&(c=[]);for(var d=a.childNodes,f=0;f<d.length;f++){var g=d[f];g&&null!=g.tagName&&(null!=g.getAttribute(e)&&null==a.getAttribute(e)&&(0==g.id.length&&(g.id="_aID_"+b.a,b.a++),c.push(g.id)),P(b,g,c,e))}return c};function ea(){}
function Q(b,a,c){for(var e=0,d=0,f,g,h,m,l=0;l<a.length;l++){var k=a[l],n=document.getElementById(k.id);m=h=g=f=0;if(0==n.childElementCount){var r=window.getComputedStyle(n);"sc"==k.g&&(f=parseInt(r.paddingLeft,10),g=parseInt(r.paddingRight,10));"sc"==k.j&&(h=parseInt(r.paddingTop,10),m=parseInt(r.paddingBottom,10))}n.style.display="inline-block";n.style.margin="auto";0<n.childElementCount&&(n.style.padding="0px");n.style.left=k.left+"px";n.style.top=k.top+"px";0<k.width&&(n.style.width=k.width-
f-g+"px");0<k.height&&(n.style.height=k.height-h-m+"px");n.style.position="absolute";k.left+k.width>e&&(e=k.left+k.width);k.top+k.height>d&&(d=k.top+k.height);c&&(n.style.backgroundColor="rgba("+parseInt(255*Math.random(),10)+","+parseInt(255*Math.random(),10)+","+parseInt(255*Math.random(),10)+",0.4)");f=Q(b,k.children,c);f.$>e&&(e=f.$);f.aa>d&&(d=f.aa)}return{$:e,aa:d}};function fa(b){this.a=b}
function R(b,a,c,e,d,f,g){for(var h=G(a),m=0;m<h.length;m++){var l=h[m];if(0<l.length){var k=a,n=c,r=f,y=m;l=e[d[l]];if(null==l)w(2,"The view '"+k.id+"' has a wrong reference");else switch(y){case 0:n!=l&&(k.left=l.left);k.i=!0;break;case 1:k.left=l.f?l.right:l.left+l.width;k.i=!0;break;case 2:if(n==l)if(n.f)k.right=r;else{k.right=-1;break}else k.right=l.f?l.right:l.left+l.width;k.f=!0;break;case 3:k.right=l.left,k.f=!0}}}"s"==a.g?a.f?(a.left=a.right-a.width,a.i=!0):(a.right=a.left+a.width,a.i=!0,
a.f=!0):"sp"==a.g&&(a.f&&!a.i?a.left=a.right-c.width*a.G/100:a.right=a.left+c.width*a.G/100,0<a.L&&(c=(a.right-a.left)*a.L,a.left+=c,a.right+=c),a.f=!0,a.i=!0);c=a.marginLeft;h=a.marginRight;0!=c&&a.i&&(a.left+=c,a.f&&"s"!=a.g||(a.right+=c));0!=h&&a.f&&(a.right-=h,a.i&&"s"!=a.g||(a.left-=h));if(a.i&&a.f){if(a.right>f&&0<f&&(a.right=f),a.width=a.right-a.left,S(a,f),0<a.u.length){c=a.H?0:a.width-a.paddingLeft-a.paddingRight;for(h=0;h<a.u.length;h++)R(b,a.u[h],a,e,d,c,g);T(a)}}else{if(0<a.u.length){c=
a.H?0:f;for(h=0;h<a.u.length;h++)R(b,a.u[h],a,e,d,c,g);T(a);for(d=e=0;d<a.children.length;d++)c=a.children[d],c.right>e&&(e=c.right);a.f?a.left=a.right-e-a.paddingLeft:(a.right=a.left+e+a.paddingRight,a.f=!0);a.i=!0;for(d=0;d<a.children.length;d++)c=a.children[d],0>c.width&&(c.right=e,c.width=c.right-c.left)}else a.f?(a.left=a.right-a.width,a.i=!0):0<=a.right&&(a.right=a.left+a.width,a.f=!0,a.i=!0);a.right>f&&0<f&&(a.right=f);a.width=a.right-a.left;S(a,f)}a:{if(a.H){for(d=e=0;d<a.children.length;d++)c=
a.children[d],c.right>e&&(e=c.right);if(e>f+a.paddingLeft&&!a.V){document.getElementById(a.id).style.overflowX="auto";f=!0;break a}}f=!1}f&&(a.paddingBottom+=b.a,a.V=!0,g.push(a))}
function U(b,a,c,e,d,f,g){for(var h=H(a),m=0;m<h.length;m++){var l=h[m];if(0<l.length){var k=a,n=c,r=f,y=m;l=e[d[l]];if(null==l)w(2,"The view '"+k.id+"' has a wrong reference");else switch(y){case 0:n!=l&&(k.top=l.top);k.l=!0;break;case 1:k.top=l.c?l.bottom:l.top+l.height;k.l=!0;break;case 2:if(n==l)if(n.c)k.bottom=r;else{k.bottom=-1;break}else k.bottom=l.c?l.bottom:l.top+l.height;k.c=!0;break;case 3:k.bottom=l.top,k.c=!0}}}"s"==a.j?a.c?(a.top=a.bottom-a.height,a.l=!0):(a.bottom=a.top+a.height,a.l=
!0,a.c=!0):"sp"==a.j&&(a.c&&!a.l?a.top=a.bottom-c.height*a.F/100:a.bottom=a.top+c.height*a.F/100,0<a.M&&(c=(a.bottom-a.top)*a.M,a.top+=c,a.bottom+=c),a.c=!0,a.l=!0);c=a.marginTop;h=a.marginBottom;0!=a.marginTop&&a.l&&(a.top+=c,a.c&&"s"!=a.j||(a.bottom+=c));0!=a.marginBottom&&a.c&&(a.bottom-=h,a.l&&"s"!=a.j||(a.top-=h));if(a.l&&a.c){if(a.bottom>f&&0<f&&(a.bottom=f),a.height=a.bottom-a.top,V(a,f),0<a.v.length){c=a.I?0:a.height-a.paddingTop-a.paddingBottom;for(h=0;h<a.v.length;h++)U(b,a.v[h],a,e,d,c,
g);W(a)}}else{if(0<a.v.length){c=a.I?0:f;for(h=0;h<a.v.length;h++)U(b,a.v[h],a,e,d,c,g);W(a);for(d=e=0;d<a.children.length;d++)c=a.children[d],c.bottom>e&&(e=c.bottom);a.c?(a.top=a.bottom-e-a.paddingTop,a.l=!0):(a.bottom=a.top+e+a.paddingBottom,a.c=!0);for(d=0;d<a.children.length;d++)c=a.children[d],0>c.height&&(c.bottom=e,c.height=c.bottom-c.top)}else a.c?(a.top=a.bottom-a.height,a.l=!0):0<=a.bottom&&(e=document.getElementById(a.id),e.style.width=a.width+"px",a.height=e.offsetHeight,a.bottom=a.top+
a.height,a.c=!0,a.l=!0);a.bottom>f&&0<f&&(a.bottom=f);a.height=a.bottom-a.top;V(a,f)}a:{if(a.I){for(d=e=0;d<a.children.length;d++)c=a.children[d],c.bottom>e&&(e=c.bottom);if(("sc"!=a.j||e>f+a.paddingTop)&&!a.W){document.getElementById(a.id).style.overflowY="auto";f=!0;break a}}f=!1}f&&(a.paddingRight+=b.a,a.W=!0,g.push(a))}function T(b){if(0!=b.paddingLeft)for(var a=0;a<b.children.length;a++)b.children[a].left+=b.paddingLeft,b.children[a].right+=b.paddingLeft}
function W(b){if(0!=b.paddingTop)for(var a=0;a<b.children.length;a++)b.children[a].top+=b.paddingTop,b.children[a].bottom+=b.paddingTop}function S(b,a){"n"!=b.C&&("l"==b.C?(b.left=0,b.i=!0):"r"==b.C?(b.right=a,b.left=b.right-b.width):"c"==b.C&&(b.left=(a-b.width)/2,b.right=b.left+b.width,b.i=!0,b.f=!0))}function V(b,a){"n"!=b.D&&("t"==b.D?(b.top=0,b.l=!0):"b"==b.D?(b.bottom=a,b.top=b.bottom-b.height):"c"==b.D&&(b.top=(a-b.height)/2,b.bottom=b.top+b.height,b.l=!0,b.c=!0))};function X(){this.m=0;this.b=new da(this.o);this.A=new ea;this.a=this.s=null;this.w=new p;this.h=function(){aa(this.w,function(){Y(this)}.bind(this),this.a.da)}}
X.prototype.start=function(b){if(0==this.m){var a=document.createElement("p");a.style.width="100%";a.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(a);document.body.appendChild(c);var e=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;e==a&&(a=c.clientWidth);document.body.removeChild(c);this.m=e-a}this.a=
new ba(b);u=this.a.o;v=this.a.h;this.s=new fa(this.m);Y(this);ha(this)};function ha(b){document.getElementsByTagName("BODY")[0].addEventListener("DOMNodeInserted",function(){b.h()},!1);document.getElementsByTagName("BODY")[0].addEventListener("DOMNodeRemoved",function(){b.h()},!1);window.onresize=function(){B(b.a);b.h()}}X.prototype.o=function(){this.h()};
function Y(b){z("all");for(var a=P(b.b,null,null,b.a.J),c=0;c<a.length;c++){var e=b,d=a[c];z("all");var f=document.getElementById(d);if(null==f)w(2,"Error getting element with ID: "+d);else{var g=e.b,h=N(g,d,f,e.a);g.b=!0;g=d=new ca(d,f,h,e.a);h=f;"sc"!=g.g&&("s"==g.g?h.style.width=g.width+"px":"sp"==g.g&&(h.style.width=g.G+"%"),g.width=h.offsetWidth);"sc"!=g.j&&("s"==g.j?h.style.height=g.height+"px":"sp"==g.g&&(h.style.height=g.F+"%"),g.height=h.offsetHeight);g.right=g.width;g.bottom=g.height;g.f=
!0;g.i=!0;g.c=!0;g.l=!0;f.style.position="relative";f=e;e=d;document.getElementById(e.id).style.opacity="0.2";z("prepare");z("loadSizes");M(f.b,e.children,f.a);A("loadSizes");z("orderViews");K(f.b,e);A("orderViews");A("prepare");z("core");g=f.s;h=J(f.b,e);var m=I(h);do{d=[];for(var l=1;l<h.length;l++){var k=h[l];k.i=!1;k.l=!1;k.f=!1;k.c=!1;k.left=0;k.top=0;k.right=0;k.bottom=0;0<k.G&&(k.g="sp");0<k.F&&(k.j="sp")}for(l=0;l<e.u.length;l++)R(g,e.u[l],e,h,m,e.width,d);for(l=0;l<e.v.length;l++)U(g,e.v[l],
e,h,m,e.height,d)}while(0<d.length);A("core");z("draw");f=Q(f.A,e.children,f.a.s);d=f.aa;g=document.getElementById(e.id);"s"!=e.id&&null!=g&&(g.style.width="s"==e.g?e.width+"px":"sp"==e.g?e.G+"%":f.$+"px",g.style.height="s"==e.j?e.height+"px":"sp"==e.j?e.F+"%":d+"px");A("draw");document.getElementById(e.id).style.opacity="1.0";A("all")}}}var Z=new X;window.WebUI=Z;window.WebUI.start=Z.start;window.WebUI.refresh=Z.o;
