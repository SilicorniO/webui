function p(){this.time=null}function q(b,a,c){c||(c=20);b.time||t(b,c,a);b.time=(new Date).getTime();b.time+=c}function t(b,a,c){setTimeout(function(){var a=(new Date).getTime();a>this.time?(c(),this.time=null):t(this,this.time-a,c)}.bind(b),a)};function u(b){if(null==b)return[];b=b.replace(" ","").split(";");for(var a=[],c=0;c<b.length;c++){var d=b[c].split(":");2==d.length?a.push({S:d[0],value:d[1]}):1==d.length&&a.push({S:d[0],value:""})}return a};var v=!1,w=null;function x(b,a){if(v){switch(b){case 1:a="WARNING: "+a;break;case 2:a="ERROR: "+a;break;case 3:a="INFO: "+a}console.log(a);w&&(w.innerHTML+=a+"<BR />")}};var y={};function A(b){y[b]=(new Date).getTime()}function B(b){x(0,"Counter["+b+"]: "+((new Date).getTime()-y[b])+"ms")};function aa(b){this.J="ui";this.attributes=[];this.a={};this.W=20;this.h=this.m=!1;this.b=null;if(b){b.viewColors&&(this.m=!0);b.showLogs&&(this.h=!0,b.X&&(this.b=document.getElementById(b.X)));null==b.timeRedraw||isNaN(b.timeRedraw)||(this.W=parseInt(b.timeRedraw,10));b.attribute&&(this.J=b.attribute);var a=[],c={};if(b.dimens)for(var d=Object.keys(b.dimens),e=0;e<d.length;e++)c[d[e]]=b.dimens[d[e]];var h=window.innerWidth,f=window.innerHeight;x(0,"screen-width: "+h);x(0,"screen-height: "+f);if(b.screenModes)for(e=
0;e<b.screenModes.length;e++){var g=b.screenModes[e];if((!g.widthStart||0==g.widthStart||g.widthStart<h)&&(!g.widthEnd||0==g.widthEnd||g.widthEnd>h)&&(!g.heightStart||0==g.heightStart||g.heightStart<f)&&(!g.heightEnd||0==g.heightEnd||g.heightEnd<f)&&(a.push(g.attribute),x(0,"SHOWING ATTRIBUTE: "+g.attribute),g.dimens)){d=Object.keys(g.dimens);for(var m=0;m<d.length;m++)c[d[m]]=g.dimens[d[m]]}}this.attributes=a;this.a=c}}
function C(b,a){return"undefined"!==typeof b.a[a]?parseInt(b.a[a],10):parseInt(a,10)};function D(b,a,c,d,e){this.id=b.id;this.O=a;this.children=[];this.o=[];this.s=[];this.N=!0;this.B=this.V=0;this.K=[];this.u=this.b=this.A=this.a=this.w=this.m=this.v=this.h="";this.j=this.g="sc";this.bottom=this.right=this.top=this.left=0;this.c=this.f=this.l=this.i=!1;this.height=this.width=0;this.P=this.R=this.H=this.I=!1;this.M=this.L=this.F=this.G=0;this.D=this.C="n";this.marginBottom=this.marginRight=this.marginTop=this.marginLeft="0";this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=
0;if(null!=a){var h=u(b.getAttribute(d));for(d=0;d<e.length;d++)h=h.concat(u(b.getAttribute(e[d])));if(0!=h.length){for(d=0;d<h.length;d++)if(e=h[d].S,b=h[d].value,"p"==b?b=a:"l"==b&&(b=c),"w"==e)E(this,b);else if("fw"==e)E(this,"100%");else if("h"==e)F(this,b);else if("fh"==e)F(this,"100%");else if("l"==e)this.h=b;else if("r"==e)this.m=b;else if("t"==e)this.a=b;else if("b"==e)this.b=b;else if("al"==e)this.w=b;else if("ale"==e)this.b=this.a=this.w=b;else if("ar"==e)this.v=b;else if("are"==e)this.b=
this.a=this.v=b;else if("at"==e)this.u=b;else if("ate"==e)this.m=this.h=this.u=b;else if("ab"==e)this.A=b;else if("abe"==e)this.m=this.h=this.A=b;else if("ml"==e)this.marginLeft=b;else if("mr"==e)this.marginRight=b;else if("mt"==e)this.marginTop=b;else if("mb"==e)this.marginBottom=b;else if("m"==e)if(e=b.split(","),1==e.length){var f=e=b,g=b;this.marginLeft=b;this.marginTop=e;this.marginRight=f;this.marginBottom=g}else 4==e.length&&(b=e[1],f=e[2],g=e[3],this.marginLeft=e[0],this.marginTop=b,this.marginRight=
f,this.marginBottom=g);else"pl"==e?this.paddingLeft=b:"pr"==e?this.paddingRight=b:"pt"==e?this.paddingTop=b:"pb"==e?this.paddingBottom=b:"p"==e?(e=b.split(","),1==e.length?this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=g=f=e=b:4==e.length&&(b=e[1],f=e[2],g=e[3],this.paddingLeft=e[0],this.paddingTop=b,this.paddingRight=f,this.paddingBottom=g)):"gh"==e?this.C=b:"gv"==e?this.D=b:"g"==e?(b=b.split(","),2==b.length&&(e=b[1],this.C=b[0],this.D=e)):"cui"==e?this.N="n"==b?!1:!0:"sv"==
e?this.I=!0:"sh"==e&&(this.H=!0);c=!1;h=[this.h,this.v,this.m,this.w,this.a,this.A,this.b,this.u];for(d=0;d<h.length;d++)if(0<h[d].length){c=!0;break}c||(this.a=a)}}}function ba(b,a,c,d){b=null!=a?new D(a,"","",d.J,d.attributes):new D(b);b.children=c;return b}function E(b,a){if("sc"==a)b.g=a,b.width=0;else if(-1!=String(a).indexOf("%")){var c=a.indexOf("%");b.G=parseFloat(a.substring(0,c));c<a.length-1&&(b.L=parseInt(a.substring(c+1,a.length),10));b.g="sp"}else b.width=parseInt(a,10),b.g="s"}
function F(b,a){if("sc"==a)b.j=a,b.height=0;else if(-1!=String(a).indexOf("%")){var c=a.indexOf("%");b.F=parseInt(a.substring(0,c),10);c<a.length-1&&(b.M=parseInt(a.substring(c+1,a.length),10));b.j="sp"}else b.height=parseInt(a,10),b.j="s"}function G(b){return[b.h,b.v,b.m,b.w]}function H(b){return[b.a,b.A,b.b,b.u]}
D.prototype.clone=function(){var b=new D(this.id);b.O=this.O;for(var a=0;a<this.children.length;a++)b.children.push(this.children[a].clone());for(a=0;a<this.o.length;a++)for(var c=0;c<b.children.length;c++)if(b.children[c].id==this.o[a].id){b.o.push(b.children[c]);break}for(a=0;a<this.s.length;a++)for(c=0;c<b.children.length;c++)if(b.children[c].id==this.s[a].id){b.s.push(b.children[c]);break}b.N=this.N;b.V=this.V;b.B=this.B;for(a=0;a<this.K.length;a++)b.K.push(this.K[a]);b.h=this.h;b.v=this.v;b.m=
this.m;b.w=this.w;b.a=this.a;b.A=this.A;b.b=this.b;b.u=this.u;b.g=this.g;b.j=this.j;b.left=this.left;b.top=this.top;b.right=this.right;b.bottom=this.bottom;b.i=this.i;b.l=this.l;b.f=this.f;b.c=this.c;b.width=this.width;b.height=this.height;b.I=this.I;b.H=this.H;b.R=this.R;b.P=this.P;b.G=this.G;b.F=this.F;b.L=this.L;b.M=this.M;b.C=this.C;b.D=this.D;b.marginLeft=this.marginLeft;b.marginTop=this.marginTop;b.marginRight=this.marginRight;b.marginBottom=this.marginBottom;b.paddingLeft=this.paddingLeft;
b.paddingTop=this.paddingTop;b.paddingRight=this.paddingRight;b.paddingBottom=this.paddingBottom;return b};
D.prototype.toString=function(){return"["+this.id+"]: ll:"+this.h+", lr:"+this.v+", rr:"+this.m+", rl:"+this.w+", tt:"+this.a+",tb: "+this.A+", bb:"+this.b+", bt:"+this.u+", ml:"+this.marginLeft+", mr:"+this.marginRight+", mt:"+this.marginTop+",mb: "+this.marginBottom+", pl:"+this.paddingLeft+", pr:"+this.paddingRight+", pt:"+this.paddingTop+", pb:"+this.paddingBottom+", w:"+this.width+", h:"+this.height+", sh:"+this.g+", sh:"+this.j+", pId:"+this.O+", l:"+this.left+", r:"+this.right+", t:"+this.top+
", b:"+this.bottom};function ca(b){this.h=b;this.a=0;this.b=!1}function I(b){for(var a=[],c=0;c<b.length;c++)a[b[c].id]=c;return a}function J(b,a,c){null==c&&(c=[]);c.push(a);for(var d=0;d<a.children.length;d++)J(b,a.children[d],c);return c}function K(b,a){a.o=L(a.children,!0);a.s=L(a.children,!1);for(var c=0;c<a.children.length;c++)0<a.children[c].children.length&&K(b,a.children[c])}
function L(b,a){b=b.slice();for(var c=0,d=0;d<b.length;d++){for(var e=[],h=a?G(b[d]):H(b[d]),f=0;f<h.length;f++){var g=h[f];0<g.length&&e.push(g)}b[d].K=e;0==e.length?(b[d].B=0,c++):b[d].B=-1}h=I(b);var m;do for(g=!0,d=m=0;d<b.length;d++)if(-1==b[d].B){e=b[d].K;var l=0;for(f=0;f<e.length;f++){var k=0;null!=h[e[f]]&&(k=b[h[e[f]]].B);if(-1<k)l+=k+1;else{l=0;break}}0<l?(b[d].B=l,m++):g=!1}while(!g&&0<m);0==m&&0<b.length&&c<b.length&&x(2,"Check cycle references in "+(a?"horizontal":"vertical")+" for parent "+
b[0].O);b.sort(function(a,b){return a.B-b.B});return b}
function M(b,a,c){var d=document.createElement("div");d.style.display="inline-block";d.style.width=1E5;d.style.height=1E5;document.getElementsByTagName("BODY")[0].appendChild(d);for(var e=0;e<a.length;e++){var h=a[e],f=document.getElementById(h.id);if("sc"==h.g&&0==h.children.length){var g=h,m=f,l=d,k=m.parentElement;k.removeChild(m);l.appendChild(m);m.style.display="inline-block";m.style.width="auto";m.style.height="auto";var n=m.offsetWidth;0<n&&n++;l.removeChild(m);k.appendChild(m);g.width=n}"sc"==
h.j&&0==h.children.length&&(g=h,m=d,l=f.parentElement,l.removeChild(f),m.appendChild(f),f.style.display="inline-block",f.style.width="auto",f.style.height="auto",k=f.offsetHeight,0<k&&k++,m.removeChild(f),l.appendChild(f),g.height=k);f=h;g=c;f.paddingLeft=C(g,f.paddingLeft);f.paddingRight=C(g,f.paddingRight);f.paddingTop=C(g,f.paddingTop);f.paddingBottom=C(g,f.paddingBottom);f.marginLeft=C(g,f.marginLeft);f.marginRight=C(g,f.marginRight);f.marginTop=C(g,f.marginTop);0<h.children.length&&M(b,h.children,
c)}document.getElementsByTagName("BODY")[0].removeChild(d)}function N(b,a,c,d){var e=[];null==c?(c=document.getElementsByTagName("BODY")[0],c.style.overflow="hidden",a="s"):a=c.id;c=c.childNodes;for(var h=a,f=0;f<c.length;f++){var g=c[f],m=!1;if(null!=g.tagName&&null!=g.getAttribute(d.J)&&"none"!=g.style.display){0==g.id.length&&(g.id="_aID_"+b.a,b.a++);var l=new D(g,a,h,d.J,d.attributes);e.push(l);h=l.id;l.N&&(l.children=N(b,a,g,d),m=!0)}b.b||O(b,g,!m)}return e}
function O(b,a,c){null!=a.tagName&&"img"==a.tagName.toLowerCase()&&(a.onload=function(){this.h()}.bind(b));if(c)for(a=a.childNodes,c=0;c<a.length;c++)O(b,a[c],!0)}
function P(b,a,c,d){null==a&&(a=document.getElementsByTagName("BODY")[0]);null==c&&(c=[]);var e=d.J;a=a.childNodes;for(var h=0;h<a.length;h++){var f=a[h];if(f&&null!=f.tagName){if(null!=f.getAttribute(e)&&"none"!=f.style.display)for(var g=u(f.getAttribute(e)),m=0;m<g.length;m++)if("s"==g[m].S){0==f.id.length&&(f.id="_aID_"+b.a,b.a++);c.push(f.id);break}P(b,f,c,d)}}return c};function da(){}
function Q(b,a,c){for(var d=0,e=0,h,f,g,m,l=0;l<a.length;l++){var k=a[l],n=document.getElementById(k.id);m=g=f=h=0;if(0==n.childElementCount){var r=window.getComputedStyle(n);"sc"==k.g&&(h=parseInt(r.paddingLeft,10),f=parseInt(r.paddingRight,10));"sc"==k.j&&(g=parseInt(r.paddingTop,10),m=parseInt(r.paddingBottom,10))}n.style.display="inline-block";n.style.margin="auto";0<n.childElementCount&&(n.style.padding="0px");n.style.left=k.left+"px";n.style.top=k.top+"px";0<k.width&&(n.style.width=k.width-
h-f+"px");0<k.height&&(n.style.height=k.height-g-m+"px");n.style.position="absolute";k.left+k.width>d&&(d=k.left+k.width);k.top+k.height>e&&(e=k.top+k.height);c&&(n.style.backgroundColor="rgba("+parseInt(255*Math.random(),10)+","+parseInt(255*Math.random(),10)+","+parseInt(255*Math.random(),10)+",0.4)");h=Q(b,k.children,c);h.T>d&&(d=h.T);h.U>e&&(e=h.U)}return{T:d,U:e}};function ea(b,a){this.b=b;this.a=a}
function R(b,a,c,d,e,h,f){for(var g=G(a),m=0;m<g.length;m++){var l=g[m];if(0<l.length){var k=a,n=c,r=h,z=m;l=d[e[l]];if(null==l)x(2,"The view '"+k.id+"' has a wrong reference");else switch(z){case 0:n!=l&&(k.left=l.left);k.i=!0;break;case 1:k.left=l.f?l.right:l.left+l.width;k.i=!0;break;case 2:if(n==l)if(n.f)k.right=r;else{k.right=-1;break}else k.right=l.f?l.right:l.left+l.width;k.f=!0;break;case 3:k.right=l.left,k.f=!0}}}"s"==a.g?a.f?(a.left=a.right-a.width,a.i=!0):(a.right=a.left+a.width,a.i=!0,
a.f=!0):"sp"==a.g&&(a.f&&!a.i?a.left=a.right-c.width*a.G/100:a.right=a.left+c.width*a.G/100,0<a.L&&(c=(a.right-a.left)*a.L,a.left+=c,a.right+=c),a.f=!0,a.i=!0);c=a.marginLeft;g=a.marginRight;0!=c&&a.i&&(a.left+=c,a.f&&"s"!=a.g||(a.right+=c));0!=g&&a.f&&(a.right-=g,a.i&&"s"!=a.g||(a.left-=g));if(a.i&&a.f){if(a.right>h&&0<h&&(a.right=h),a.width=a.right-a.left,S(a,h),0<a.o.length){c=a.H?0:a.width-a.paddingLeft-a.paddingRight;for(g=0;g<a.o.length;g++)R(b,a.o[g],a,d,e,c,f);T(a)}}else{if(0<a.o.length){c=
a.H?0:h;for(g=0;g<a.o.length;g++)R(b,a.o[g],a,d,e,c,f);T(a);for(e=d=0;e<a.children.length;e++)c=a.children[e],c.right>d&&(d=c.right);a.f?a.left=a.right-d-a.paddingLeft:(a.right=a.left+d+a.paddingRight,a.f=!0);a.i=!0;for(e=0;e<a.children.length;e++)c=a.children[e],0>c.width&&(c.right=d,c.width=c.right-c.left)}else a.f?(a.left=a.right-a.width,a.i=!0):0<=a.right&&(a.right=a.left+a.width,a.f=!0,a.i=!0);a.right>h&&0<h&&(a.right=h);a.width=a.right-a.left;S(a,h)}a:{if(a.H){for(e=d=0;e<a.children.length;e++)c=
a.children[e],c.right>d&&(d=c.right);if(d>h+a.paddingLeft&&!a.P){document.getElementById(a.id).style.overflowX="auto";h=!0;break a}}h=!1}h&&(a.paddingBottom+=b.a,a.P=!0,f.push(a))}
function U(b,a,c,d,e,h,f){for(var g=H(a),m=0;m<g.length;m++){var l=g[m];if(0<l.length){var k=a,n=c,r=h,z=m;l=d[e[l]];if(null==l)x(2,"The view '"+k.id+"' has a wrong reference");else switch(z){case 0:n!=l&&(k.top=l.top);k.l=!0;break;case 1:k.top=l.c?l.bottom:l.top+l.height;k.l=!0;break;case 2:if(n==l)if(n.c)k.bottom=r;else{k.bottom=-1;break}else k.bottom=l.c?l.bottom:l.top+l.height;k.c=!0;break;case 3:k.bottom=l.top,k.c=!0}}}"s"==a.j?a.c?(a.top=a.bottom-a.height,a.l=!0):(a.bottom=a.top+a.height,a.l=
!0,a.c=!0):"sp"==a.j&&(a.c&&!a.l?a.top=a.bottom-c.height*a.F/100:a.bottom=a.top+c.height*a.F/100,0<a.M&&(c=(a.bottom-a.top)*a.M,a.top+=c,a.bottom+=c),a.c=!0,a.l=!0);c=C(b.b,a.marginTop);g=C(b.b,a.marginBottom);0!=a.marginTop&&a.l&&(a.top+=c,a.c&&"s"!=a.j||(a.bottom+=c));0!=a.marginBottom&&a.c&&(a.bottom-=g,a.l&&"s"!=a.j||(a.top-=g));if(a.l&&a.c){if(a.bottom>h&&0<h&&(a.bottom=h),a.height=a.bottom-a.top,V(a,h),0<a.s.length){c=a.I?0:a.height-a.paddingTop-a.paddingBottom;for(g=0;g<a.s.length;g++)U(b,
a.s[g],a,d,e,c,f);W(a)}}else{if(0<a.s.length){c=a.I?0:h;for(g=0;g<a.s.length;g++)U(b,a.s[g],a,d,e,c,f);W(a);for(e=d=0;e<a.children.length;e++)c=a.children[e],c.bottom>d&&(d=c.bottom);a.c?(a.top=a.bottom-d-a.paddingTop,a.l=!0):(a.bottom=a.top+d+a.paddingBottom,a.c=!0);for(e=0;e<a.children.length;e++)c=a.children[e],0>c.height&&(c.bottom=d,c.height=c.bottom-c.top)}else a.c?(a.top=a.bottom-a.height,a.l=!0):0<=a.bottom&&(d=document.getElementById(a.id),d.style.width=a.width+"px",a.height=d.offsetHeight,
a.bottom=a.top+a.height,a.c=!0,a.l=!0);a.bottom>h&&0<h&&(a.bottom=h);a.height=a.bottom-a.top;V(a,h)}a:{if(a.I){for(e=d=0;e<a.children.length;e++)c=a.children[e],c.bottom>d&&(d=c.bottom);if(("sc"!=a.j||d>h+a.paddingTop)&&!a.R){document.getElementById(a.id).style.overflowY="auto";h=!0;break a}}h=!1}h&&(a.paddingRight+=b.a,a.R=!0,f.push(a))}function T(b){if(0!=b.paddingLeft)for(var a=0;a<b.children.length;a++)b.children[a].left+=b.paddingLeft,b.children[a].right+=b.paddingLeft}
function W(b){if(0!=b.paddingTop)for(var a=0;a<b.children.length;a++)b.children[a].top+=b.paddingTop,b.children[a].bottom+=b.paddingTop}function S(b,a){"n"!=b.C&&("l"==b.C?(b.left=0,b.i=!0):"r"==b.C?(b.right=a,b.left=b.right-b.width):"c"==b.C&&(b.left=(a-b.width)/2,b.right=b.left+b.width,b.i=!0,b.f=!0))}function V(b,a){"n"!=b.D&&("t"==b.D?(b.top=0,b.l=!0):"b"==b.D?(b.bottom=a,b.top=b.bottom-b.height):"c"==b.D&&(b.top=(a-b.height)/2,b.bottom=b.top+b.height,b.l=!0,b.c=!0))};function X(){this.m=0;this.b=new ca(this.u);this.A=new da;this.a=this.v=null;this.w=new p;this.h=function(){q(this.w,function(){Y(this)}.bind(this),this.a.W)}}
X.prototype.start=function(b){if(0==this.m){var a=document.createElement("p");a.style.width="100%";a.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(a);document.body.appendChild(c);var d=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;d==a&&(a=c.clientWidth);document.body.removeChild(c);this.m=d-a}this.a=
new aa(b);v=this.a.h;w=this.a.b;this.v=new ea(this.a,this.m);Y(this);fa(this)};function fa(b){document.getElementsByTagName("BODY")[0].addEventListener("DOMNodeInserted",function(){b.h()},!1);document.getElementsByTagName("BODY")[0].addEventListener("DOMNodeRemoved",function(){b.h()},!1);window.onresize=function(){b.h()}}X.prototype.u=function(){this.h()};
function Y(b){A("all");for(var a=P(b.b,null,null,b.a),c=0;c<a.length;c++){var d=b,e=a[c];A("all");var h=document.getElementById(e);if(null==h)x(2,"Error getting element with ID: "+e);else{var f=d.b,g=N(f,e,h,d.a);f.b=!0;f=e=new ba(e,h,g,d.a);(g=h)?("sc"!=f.g&&("s"==f.g?g.style.width=f.width+"px":"sp"==f.g&&(g.style.width=f.G+"%"),f.width=g.offsetWidth),"sc"!=f.j&&("s"==f.j?g.style.height=f.height+"px":"sp"==f.g&&(g.style.height=f.F+"%"),f.height=g.offsetHeight),f.right=f.width,f.bottom=f.height):
(f.width=window.innerWidth,f.height=window.innerHeight,f.right=f.width,f.bottom=f.height);f.f=!0;f.i=!0;f.c=!0;f.l=!0;h.style.position="relative";h=d;d=e;document.getElementById(d.id).style.opacity="0.2";A("prepare");A("loadSizes");M(h.b,d.children,h.a);B("loadSizes");A("orderViews");K(h.b,d);B("orderViews");B("prepare");A("core");f=h.v;g=J(h.b,d);var m=I(g);do{e=[];for(var l=1;l<g.length;l++){var k=g[l];k.i=!1;k.l=!1;k.f=!1;k.c=!1;k.left=0;k.top=0;k.right=0;k.bottom=0;0<k.G&&(k.g="sp");0<k.F&&(k.j=
"sp")}for(l=0;l<d.o.length;l++)R(f,d.o[l],d,g,m,d.width,e);for(l=0;l<d.s.length;l++)U(f,d.s[l],d,g,m,d.height,e)}while(0<e.length);B("core");A("draw");h=Q(h.A,d.children,h.a.m);e=h.U;f=document.getElementById(d.id);"s"!=d.id&&null!=f&&(f.style.width="s"==d.g?d.width+"px":"sp"==d.g?d.G+"%":h.T+"px",f.style.height="s"==d.j?d.height+"px":"sp"==d.j?d.F+"%":e+"px");B("draw");document.getElementById(d.id).style.opacity="1.0";B("all")}}}var Z=new X;window.WebUI=Z;window.WebUI.start=Z.start;
window.WebUI.refresh=Z.u;
